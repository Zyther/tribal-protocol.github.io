<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Traits and interfaces to operate with storage entities."><meta name="keywords" content="rust, rustlang, rust-lang, traits"><title>ink_storage::traits - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../ink_storage/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../ink_storage/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module traits</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#derives">Derive Macros</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../ink_storage/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">ink_storage</a>::<wbr><a class="mod" href="#">traits</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/ink_storage/traits/mod.rs.html#15-241">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Traits and interfaces to operate with storage entities.</p>
<p>Generally a type is said to be a storage entity if it implements the
<code>SpreadLayout</code> trait. This defines certain constants and routines in order
to tell a smart contract how to load and store instances of this type
from and to the contract’s storage.</p>
<p>The <code>PackedLayout</code> trait can then be implemented on top of the <code>SpreadLayout</code>
for types that further allow to be stored in the contract storage in a more
compressed format to a single storage cell.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.KeyPtr.html" title="ink_storage::traits::KeyPtr struct">KeyPtr</a></div><div class="item-right docblock-short"><p>A key pointer.</p>
</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.FOOTPRINT_CLEANUP_THRESHOLD.html" title="ink_storage::traits::FOOTPRINT_CLEANUP_THRESHOLD constant">FOOTPRINT_CLEANUP_THRESHOLD</a></div><div class="item-right docblock-short"><p>This constant is used by some types to make sure that cleaning up
behind them won’t become way too expensive. Since we are missing
Substrate’s storage bulk removal feature we cannot do better than
this at the moment.
The number is arbitrarily chosen. Might need adjustments later.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ExtKeyPtr.html" title="ink_storage::traits::ExtKeyPtr trait">ExtKeyPtr</a></div><div class="item-right docblock-short"><p>Extension trait to make <code>KeyPtr</code> simpler to use for <code>T: SpreadLayout</code> types.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.LayoutCryptoHasher.html" title="ink_storage::traits::LayoutCryptoHasher trait">LayoutCryptoHasher</a></div><div class="item-right docblock-short"><p>Types implementing this trait are supported layouting crypto hashers.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.PackedAllocate.html" title="ink_storage::traits::PackedAllocate trait">PackedAllocate</a></div><div class="item-right docblock-short"><p>Types that can be default initialized to a single storage cell.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.PackedLayout.html" title="ink_storage::traits::PackedLayout trait">PackedLayout</a></div><div class="item-right docblock-short"><p>Types that can be stored to and loaded from a single contract storage cell.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SpreadAllocate.html" title="ink_storage::traits::SpreadAllocate trait">SpreadAllocate</a></div><div class="item-right docblock-short"><p>Types that can be default initialized to some area of the contract storage.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SpreadLayout.html" title="ink_storage::traits::SpreadLayout trait">SpreadLayout</a></div><div class="item-right docblock-short"><p>Types that can be stored to and loaded from the contract storage.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.StorageLayout.html" title="ink_storage::traits::StorageLayout trait">StorageLayout</a></div><div class="item-right docblock-short"><p>Implemented by types that have a storage layout.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.allocate_packed_root.html" title="ink_storage::traits::allocate_packed_root fn">allocate_packed_root</a></div><div class="item-right docblock-short"><p>Allocates an instance of type <code>T</code> to the contract storage using packed layout.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.allocate_spread_root.html" title="ink_storage::traits::allocate_spread_root fn">allocate_spread_root</a></div><div class="item-right docblock-short"><p>Pulls an instance of type <code>T</code> from the contract storage using spread layout.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.clear_packed_root.html" title="ink_storage::traits::clear_packed_root fn">clear_packed_root</a></div><div class="item-right docblock-short"><p>Clears the entity from the contract storage using packed layout.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.clear_spread_root.html" title="ink_storage::traits::clear_spread_root fn">clear_spread_root</a></div><div class="item-right docblock-short"><p>Clears the entity from the contract storage using spread layout.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.forward_allocate_packed.html" title="ink_storage::traits::forward_allocate_packed fn">forward_allocate_packed</a></div><div class="item-right docblock-short"><p>Allocates an instance of type <code>T</code> in packed fashion to the contract storage.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.forward_clear_packed.html" title="ink_storage::traits::forward_clear_packed fn">forward_clear_packed</a></div><div class="item-right docblock-short"><p>Clears an instance of type <code>T</code> in packed fashion from the contract storage.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.forward_pull_packed.html" title="ink_storage::traits::forward_pull_packed fn">forward_pull_packed</a></div><div class="item-right docblock-short"><p>Pulls an instance of type <code>T</code> in packed fashion from the contract storage.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.forward_push_packed.html" title="ink_storage::traits::forward_push_packed fn">forward_push_packed</a></div><div class="item-right docblock-short"><p>Pushes an instance of type <code>T</code> in packed fashion to the contract storage.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.pull_packed_root.html" title="ink_storage::traits::pull_packed_root fn">pull_packed_root</a></div><div class="item-right docblock-short"><p>Pulls an instance of type <code>T</code> from the contract storage using packed layout.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.pull_spread_root.html" title="ink_storage::traits::pull_spread_root fn">pull_spread_root</a></div><div class="item-right docblock-short"><p>Pulls an instance of type <code>T</code> from the contract storage using spread layout.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.push_packed_root.html" title="ink_storage::traits::push_packed_root fn">push_packed_root</a></div><div class="item-right docblock-short"><p>Pushes the entity to the contract storage using packed layout.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.push_packed_root_return_size.html" title="ink_storage::traits::push_packed_root_return_size fn">push_packed_root_return_size</a></div><div class="item-right docblock-short"><p>Pushes the entity to the contract storage using packed layout and
returns the size of the pre-existing value if any.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.push_spread_root.html" title="ink_storage::traits::push_spread_root fn">push_spread_root</a></div><div class="item-right docblock-short"><p>Pushes the entity to the contract storage using spread layout.</p>
</div></div></div><h2 id="derives" class="small-section-header"><a href="#derives">Derive Macros</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="derive" href="derive.PackedLayout.html" title="ink_storage::traits::PackedLayout derive">PackedLayout</a></div><div class="item-right docblock-short"><p>Derives <code>ink_storage</code>’s <code>PackedLayout</code> trait for the given <code>struct</code> or <code>enum</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="derive" href="derive.SpreadAllocate.html" title="ink_storage::traits::SpreadAllocate derive">SpreadAllocate</a></div><div class="item-right docblock-short"><p>Derives <code>ink_storage</code>’s <code>SpreadAllocate</code> trait for the given <code>struct</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="derive" href="derive.SpreadLayout.html" title="ink_storage::traits::SpreadLayout derive">SpreadLayout</a></div><div class="item-right docblock-short"><p>Derives <code>ink_storage</code>’s <code>SpreadLayout</code> trait for the given <code>struct</code> or <code>enum</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="derive" href="derive.StorageLayout.html" title="ink_storage::traits::StorageLayout derive">StorageLayout</a></div><div class="item-right docblock-short"><p>Derives <code>ink_storage</code>’s <code>StorageLayout</code> trait for the given <code>struct</code> or <code>enum</code>.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="ink_storage" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0-nightly (c0941dfb5 2022-08-21)" ></div></body></html>